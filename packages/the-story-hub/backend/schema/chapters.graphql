# Chapter/Branch Queries and Mutations

extend type Query {
  getChapter(storyId: ID!, nodeId: ID!): ChapterNode
    @aws_iam
    @aws_cognito_user_pools

  listBranches(storyId: ID!, nodeId: ID!): [ChapterNode!]!
    @aws_iam
    @aws_cognito_user_pools
}

extend type Mutation {
  createChapter(input: CreateChapterInput!): ChapterNode @aws_cognito_user_pools

  createBranch(input: CreateBranchInput!): ChapterNode @aws_cognito_user_pools

  updateChapter(input: UpdateChapterInput!): ChapterNode @aws_cognito_user_pools

  voteOnChapter(storyId: ID!, nodeId: ID!, voteType: VoteType!): ChapterNode
    @aws_cognito_user_pools

  awardBadge(input: AwardBadgeInput!): ChapterNode @aws_cognito_user_pools
}
